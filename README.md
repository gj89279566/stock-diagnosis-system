# 股票数据源诊断系统

## 项目简介

这是一个自动化的股票数据源诊断系统，可以检测多个财经网站的数据源可用性，并通过微信推送诊断结果。

## 功能特点

- 🔍 **多数据源检测**：支持新浪财经、东方财富、雪球、同花顺、金融界等
- 📱 **微信推送**：使用Server酱将诊断结果推送到微信
- ⏰ **定时执行**：支持本地定时任务和GitHub Actions云端执行
- 📊 **详细报告**：提供每个数据源的详细状态和问题分析

## 数据源支持

| 数据源 | 状态 | 说明 |
|--------|------|------|
| 新浪财经 | ✅ 可用 | 新闻和行情数据稳定 |
| 东方财富 | ❌ 不可用 | API需要特殊认证 |
| 雪球 | ❌ 不可用 | 需要登录认证 |
| 同花顺 | ❌ 不可用 | URL结构已变更 |
| 金融界 | ⚠️ 部分可用 | 部分接口可用 |
| 腾讯财经 | ✅ 可用 | 实时行情数据 |

## 使用方法

### 本地运行

```bash
# 安装依赖
pip install requests beautifulsoup4

# 执行诊断
python 股票软件/数据源故障诊断.py

# 或使用定时脚本
./股票软件/定时诊断.sh
```

### GitHub Actions（推荐）

1. Fork或克隆此仓库
2. 在GitHub仓库设置中启用Actions
3. 系统会自动每天执行诊断并推送结果

## 配置微信推送

1. 注册[Server酱](http://sct.ftqq.com/)账号
2. 获取SendKey并填入脚本
3. 关注Server酱微信公众号

## 定时任务设置

### 本地crontab
```bash
# 每天早上8点执行
0 8 * * * /path/to/定时诊断.sh
```

### GitHub Actions
- 自动每天UTC时间8点执行（北京时间16点）
- 支持手动触发执行

## 文件结构

```
├── 股票软件/
│   ├── 数据源故障诊断.py    # 主诊断脚本
│   ├── 定时诊断.sh          # 定时执行脚本
│   └── wuxi_analysis.py     # 股票分析脚本
├── .github/workflows/
│   └── diagnosis.yml        # GitHub Actions配置
├── README.md               # 项目说明
└── .gitignore             # Git忽略文件
```

## 注意事项

- 部分数据源可能需要特殊认证或已停止服务
- 建议优先使用新浪财经和腾讯财经等稳定数据源
- 定期检查数据源可用性，及时更新配置

## 许可证

MIT License 